(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[121],{8561:(e,t,s)=>{Promise.resolve().then(s.bind(s,6089))},6463:(e,t,s)=>{"use strict";var r=s(1169);s.o(r,"redirect")&&s.d(t,{redirect:function(){return r.redirect}}),s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},6089:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(7437),a=s(2265),l=s(492),n=s(6463);let u=function(){let[e,t]=(0,a.useState)(""),[s,u]=(0,a.useState)(""),o=(0,n.useRouter)(),{doRequest:i,errors:c}=(0,l.Z)({url:"/api/tickets",method:"post",body:{title:e,price:s},onSuccess:()=>o.push("/")});return(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{children:"Create a Ticket"}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i()},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"form-group",children:"Title"}),(0,r.jsx)("input",{type:"text",className:"form-control",onChange:e=>t(e.target.value),value:e})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"form-group",children:"Price"}),(0,r.jsx)("input",{className:"form-control",onChange:e=>u(e.target.value),value:s,onBlur:()=>{let e=parseFloat(s);isNaN(e)||u(e.toFixed(2))}})]}),c,(0,r.jsx)("button",{className:"btn btn-primary",children:"Submit"})]})]})}},492:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var r=s(7437),a=s(8472),l=s(2265);let n=e=>{let{url:t,method:s,body:n,onSuccess:u}=e,[o,i]=(0,l.useState)(null);return{doRequest:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{i(null);let r=await a.Z[s](t,{...n,...e});return u&&u(r.data),r.data}catch(e){console.log(e),i((0,r.jsxs)("div",{className:"alert alert-danger",children:[(0,r.jsx)("h4",{children:"Ooops...."}),(0,r.jsx)("ul",{className:"my-0",children:e.response.data.errors.map(e=>(0,r.jsx)("li",{children:e.message},e.message))})]}))}},errors:o}}}},e=>{var t=t=>e(e.s=t);e.O(0,[472,130,215,744],()=>t(8561)),_N_E=e.O()}]);