(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[79],{3555:(e,s,r)=>{Promise.resolve().then(r.bind(r,1715))},6463:(e,s,r)=>{"use strict";var t=r(1169);r.o(t,"redirect")&&r.d(s,{redirect:function(){return t.redirect}}),r.o(t,"useParams")&&r.d(s,{useParams:function(){return t.useParams}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}})},1715:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>l});var t=r(7437),a=r(6463),n=r(2265),u=r(8472),c=r(492);let l=function(){let e=(0,a.useParams)(),[s,r]=(0,n.useState)(),l=(0,a.useRouter)(),{ticketId:i}=e,{doRequest:o,errors:d}=(0,c.Z)({url:"/api/orders",method:"post",body:{ticketId:i},onSuccess:e=>l.push("/orders/".concat(e.id))});return(0,n.useEffect)(()=>{(async()=>{let{data:e}=await u.Z.get("/api/tickets/".concat(i));r(e)})()},[]),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{children:null==s?void 0:s.title}),(0,t.jsxs)("h4",{children:["Price : ",null==s?void 0:s.price]}),d,(0,t.jsx)("button",{className:"btn btn-primary",onClick:()=>o(),children:"Purchase"})]})}},492:(e,s,r)=>{"use strict";r.d(s,{Z:()=>u});var t=r(7437),a=r(8472),n=r(2265);let u=e=>{let{url:s,method:r,body:u,onSuccess:c}=e,[l,i]=(0,n.useState)(null);return{doRequest:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{i(null);let t=await a.Z[r](s,{...u,...e});return c&&c(t.data),t.data}catch(e){console.log(e),i((0,t.jsxs)("div",{className:"alert alert-danger",children:[(0,t.jsx)("h4",{children:"Ooops...."}),(0,t.jsx)("ul",{className:"my-0",children:e.response.data.errors.map(e=>(0,t.jsx)("li",{children:e.message},e.message))})]}))}},errors:l}}}},e=>{var s=s=>e(e.s=s);e.O(0,[472,130,215,744],()=>s(3555)),_N_E=e.O()}]);